name: 'Setup Perl'
description: 'Setup a Perl Environment'
author: 'Sanko Robinson'

# Add your action's branding here. This will appear on the GitHub Marketplace.
branding:
  icon: 'heart'
  color: 'blue'

# Define your inputs here.
inputs:
  milliseconds:
    description: 'Your input description here'
    required: true
    default: '1000'
  herbicide:
    description: 'Removes default install of Strawberry Perl from $PATH on
      Windows' # https://github.com/kzrnm/fix-mingw
    required: false
    default: true
  version:
    description: 'Perl version to install (current default: 5.38.0)'
    required: false
    default: '5.38.0'
  flavor:
    description:
      'Binary distribution of Perl. "default", "strawberry", and "cygwin" are
      accepted on Windows.'
    required: false
    default: 'default'
  threads:
    required: false
    default: false # Should be true on Windows? Defaults to true if flavor is 'strawberry'
  quadmath:
    required: false
    default: false # Incompatible with "strawberry" and "cygwin" on Windows
  longdouble:
    required: false
    double: false # Incompatible with "strawberry" and "cygwin" on Windows
  cpan:
    description:
      'CPAN installer (with flags) to use for prerequisites. Default is "cpanm"'
    required: false
    default: 'cpanm'
  cpan-args:
    description: 'Flags to pass to your selected CPAN client'
    required: false
    default: '' # Should be '--notest' if using cpanm
  prerequisites:
    description: 'List of modules to install before running the action'
    required: false
    default: ''
  cache-modules:
    required: false
    default: true
  cwd:
    required: false
    default: '.'
  compiler:
    description:
      'Compiler to build Perl with (if required). "gcc" (default), "g++", or
      "cl" (Windows)'
    required: false
    default: 'gcc'
  local:
    description: 'Flag to indicate using a local cache for built perls'
    required: false
    default: false

# Define your outputs here.
outputs:
  time:
    description: 'Your output description here'
  perl-version:
    description: 'The perl version'
  perl:
    description: 'Path to the installed perl binary'
  cpanm:
    description: 'Path to the installed cpan-minus executable'
  cpm:
    description: 'Path to the installed cpm executable'

runs:
  using: node20
  main: dist/index.js
